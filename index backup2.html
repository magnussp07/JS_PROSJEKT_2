<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            margin: 0;
            display: flex;
            justify-content: center;
        }
        
        #bg{
            width: 40vw;
            height: 90vh;
            border: 2px black solid;
            background-color: rgb(1, 1, 42);
        }

        
        #spiller{
            position: absolute;
            width: 5vw;
            height: 10vh;
            top:80vh;
        }


    </style>
</head>
<body>
    
    <canvas id="bg"></canvas>
    
    <img src="bilder/ship.png" id="spiller">

    <script>
        const canvas = document.getElementById('bg');
        const ctx = canvas.getContext('2d');
        const spiller = document.getElementById('spiller');
        
        let opp = false
        let ned = false
        let venstre = false
        let hoyre = false

        let y = canvas.offsetHeight - spiller.offsetHeight
        let x = 500

        let vy = 2
        let vx = 2

        console.log(canvas.style.left)

        function update() {

            spiller.style.top = y + "px"
            spiller.style.left = x + "px"

            if (opp){
                y -= vy
            }
            if (ned){
                y += vy
            }
            if (venstre){
                x -= vx
            }
            if (hoyre){
                x += vx
            }

            
            
        }

        
        

        document.addEventListener("keydown", function(event){
            if(event.key == "w" || event.key == "W"){
                opp = true
            }
        })


        document.addEventListener("keyup", function(event){
            if(event.key == "w" || event.key == "W"){
                opp = false
            }
        })


        document.addEventListener("keydown", function(event){
            if(event.key == "s" || event.key == "S"){
                ned = true
            }
        })


        document.addEventListener("keyup", function(event){
            if(event.key == "s" || event.key == "S"){
                ned = false
            }
        })

        document.addEventListener("keydown", function(event){
            if(event.key == "a" || event.key == "A"){
                venstre = true
            }
        })

        document.addEventListener("keyup", function(event){
            if(event.key == "a" || event.key == "A"){
                venstre = false
            }
        })

        document.addEventListener("keydown", function(event){
            if(event.key == "d" || event.key == "D"){
                hoyre = true
            }
        })

        document.addEventListener("keyup", function(event){
            if(event.key == "d" || event.key == "D"){
                hoyre = false
            }
        })
        
        setInterval(update, 10)
    </script>


</body>
</html>